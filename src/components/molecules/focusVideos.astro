---
import { defaultLang } from "@/i18n/consts";

import video_01 from "@/assets/videos/focus/video_01.mp4";
import video_02 from "@/assets/videos/focus/video_02.mp4";
import { getLangFromUrl } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);

const captions = {
  es: {
    video_01:
      "Modificar los poros del electrodo mejora la forma en que las PFAS se adhieren o reaccionan con el ánodo al atravesar el material, optimizando así la eficiencia del proceso.",
    video_02:
      "Este reactor funciona de forma continua y destruye los compuestos PFAS cuando se le aplica corriente eléctrica. Al pasar por el ánodo, las sustancias tóxicas se transforman en compuestos no tóxicos, lo que permite que el agua salga del reactor mucho más limpia.",
  },
  en: {
    video_01:
      "Modifying the electrode pores improves the way PFAS bind or react with the anode as they pass through the material, thus optimizing the process's efficiency.",
    video_02:
      "This reactor operates continuously and destroys PFAS compounds when an electric current is applied. As they pass through the anode, the toxic substances are transformed into non-toxic compounds, allowing the water to exit the reactor much cleaner.",
  },
  pt: {
    video_01:
      "A modificação dos poros do eletrodo melhora a forma como os PFAS aderem ou reagem com o ânodo à medida que passam pelo material, otimizando assim a eficiência do processo.",
    video_02:
      "Este reator opera continuamente e destrói os compostos de PFAS quando uma corrente elétrica é aplicada. Ao passarem pelo ânodo, as substâncias tóxicas são transformadas em compostos não tóxicos, permitindo que a água saia do reator muito mais limpa.",
  },
};

const langAvailable = Object.hasOwn(captions, lang);

const langToUse = langAvailable ? lang : defaultLang;
---

<article class="video_container">
  <figure>
    <video controls src={video_01}></video>
    <figcaption>
      {captions[langToUse].video_01}
    </figcaption>
  </figure>
  <figure>
    <video controls src={video_02}></video>
    <figcaption>
      {captions[langToUse].video_02}
    </figcaption>
  </figure>
</article>
<style>
  .video_container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--fs-s);

    video {
      width: 100%;
      height: auto;
      aspect-ratio: 16 / 9;
      object-fit: cover;
    }

    figcaption {
      padding: var(--fs-xs);
      border: 1px solid var(--inverse-bg-clr);
      border-radius: 0 0 var(--fs-s) var(--fs-s);
    }
  }
</style>
